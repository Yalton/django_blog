{% extends "base.html" %}
{% load static %}
{% block title %}Chatroom: {{ room_name }}{% endblock %}
<div id="heading-div" class="centered">
    {% block heading %}
        <div class="profile_banner">
            <div class="profile_title">Chatroom: {{ room_name }}</div>
        </div>
        <span class="header_line"></span>
    {% endblock %}
    {% comment %} {% block subheading %} {{page_subheading}}
    {% block supptext %} {{page_text}}{% endblock %} {% endcomment %}
</div>
{% block content %}
    <div class="centered">
        <div class="altportfolio chat">
            <div class="box">
                <h3>Messages ({{messages|length}})</h3>
                <div id="chat-messages" style="max-height: 300px; overflow-y: scroll;">
                    {% for m in messages %}
                        <b>{{ m.username }}</b>: {{ m.content }} <p> {{m.date_added}} </p>
                    <br>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<div class="centered">
    <div class="altportfolio chat">
        <div class="container">
            <div class="columns is-multiline">
                <div >
                    <div class="field">
                        <label>Type your message here</label>
                        <div class="control">
                            <input class="chat_input"
                                   type="text"
                                   placeholder="Message"
                                   id="chat-message-input">
                        </div>
                    </div>
                    <div class="field">
                        <div class="control">
                            <button>
                                <a class="button is-info" id="chat-message-submit">Submit</a>
                            </button>
                        </div>
                    </div>
                    <small class="has-text-grey-light"> Username: {{ username }}</small>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
{{ room_name|json_script:"json-roomname" }}
{{ username|json_script:"json-username" }}
{% endblock %}
{% block scripts %}
    <script type="text/javascript" src="{% static 'js/chat.js' %}"></script>
{% endblock %}
